
> pagyra-js@0.0.1 test
> vitest run path-resolution


[7m[1m[36m RUN [39m[22m[27m [36mv1.6.1[39m [90mC:/Users/celso/pagyra-js[39m

 [33mÃ”Ã˜Â»[39m tests/environment/path-resolution.spec.ts [2m ([22m[2m14 tests[22m [2m|[22m [31m3 failed[39m[2m)[22m[90m 12[2mms[22m[39m
[31m   [33mÃ”Ã˜Â»[31m tests/environment/path-resolution.spec.ts[2m > [22mPath Resolution[2m > [22mNodeEnvironment[2m > [22mresolves leading-slash paths relative to base[39m
[31m     Ã”Ã¥Ã† expected 'C:\var\www\public\images\duck.jpg' to be '\var\www\public\images\duck.jpg' // Object.is equality[39m
[31m   [33mÃ”Ã˜Â»[31m tests/environment/path-resolution.spec.ts[2m > [22mPath Resolution[2m > [22mNodeEnvironment[2m > [22mresolves relative paths normally[39m
[31m     Ã”Ã¥Ã† expected 'C:\var\www\public\images\duck.jpg' to be '\var\www\public\images\duck.jpg' // Object.is equality[39m
[31m   [33mÃ”Ã˜Â»[31m tests/environment/path-resolution.spec.ts[2m > [22mPath Resolution[2m > [22mBrowserEnvironment[2m > [22mresolves paths with base URL that has path component[39m
[31m     Ã”Ã¥Ã† expected 'http://localhost:3000/examples/imagesÃ”Ã‡Âª' to be 'http://localhost:3000/images/duck.jpg' // Object.is equality[39m

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â» Failed Tests 3 Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»

 FAIL  tests/environment/path-resolution.spec.ts > Path Resolution > NodeEnvironment > resolves leading-slash paths relative to base
AssertionError: expected 'C:\var\www\public\images\duck.jpg' to be '\var\www\public\images\duck.jpg' // Object.is equality

- Expected
+ Received

- \var\www\public\images\duck.jpg
+ C:\var\www\public\images\duck.jpg

 Ã”Ã˜Â» tests/environment/path-resolution.spec.ts:13:30
     11|             const resolved = env.resolveLocal('/images/duck.jpg', baseÃ”Ã‡Âª
     12|             const expected = path.join(base, 'images', 'duck.jpg');
     13|             expect(resolved).toBe(expected);
       |                              ^
     14|         });
     15| 

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[1/3]Ã”Ã„Â»

 FAIL  tests/environment/path-resolution.spec.ts > Path Resolution > NodeEnvironment > resolves relative paths normally
AssertionError: expected 'C:\var\www\public\images\duck.jpg' to be '\var\www\public\images\duck.jpg' // Object.is equality

- Expected
+ Received

- \var\www\public\images\duck.jpg
+ C:\var\www\public\images\duck.jpg

 Ã”Ã˜Â» tests/environment/path-resolution.spec.ts:21:30
     19|             const resolved = env.resolveLocal('images/duck.jpg', base);
     20|             const expected = path.join(base, 'images', 'duck.jpg');
     21|             expect(resolved).toBe(expected);
[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
       |                              ^
     22|         });
     23| 
[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m11 passed[39m[22m[90m (14)[39m

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[2/3]Ã”Ã„Â»

 FAIL  tests/environment/path-resolution.spec.ts > Path Resolution > BrowserEnvironment > resolves paths with base URL that has path component
AssertionError: expected 'http://localhost:3000/examples/imagesÃ”Ã‡Âª' to be 'http://localhost:3000/images/duck.jpg' // Object.is equality

- Expected
+ Received

- http://localhost:3000/images/duck.jpg
+ http://localhost:3000/examples/images/duck.jpg

 Ã”Ã˜Â» tests/environment/path-resolution.spec.ts:100:30
     98|             const env = new BrowserEnvironment();
     99|             const resolved = env.resolveLocal('/images/duck.jpg', 'httÃ”Ã‡Âª
    100|             expect(resolved).toBe('http://localhost:3000/images/duck.jÃ”Ã‡Âª
       |                              ^
    101|         });
    102|     });

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[3/3]Ã”Ã„Â»

[2m   Start at [22m 18:22:14
[2m   Duration [22m 585ms[2m (transform 50ms, setup 0ms, collect 59ms, tests 12ms, environment 0ms, prepare 169ms)[22m

