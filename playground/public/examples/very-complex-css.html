<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Conversão HTML→PDF — Fluxo Puro (Sem JS)</title>
<style>
:root{
  --muted:#475569; --brandA:#7c3aed; --brandB:#06b6d4; --brandC:#22c55e;
  --ok:#10b981; --err:#ef4444; --warn:#f59e0b; --gap:20px; --radius:16px;
  --paper-w:210mm;
  --fs-hero: clamp(30px, 5vw, 58px); --fs-h2: clamp(20px, 3vw, 32px); --fs-base: 12pt;
  --body-font: system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
  --mono: ui-monospace,Menlo,Consolas,"Courier New",monospace;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  font-family:var(--body-font); line-height:1.5; color:#0f172a;
  background:
    radial-gradient(1200px 500px at 20% -10%, #e0e7ff66, transparent 60%),
    linear-gradient(180deg, #f9fafb 0%, #f1f5f9 100%);
  -webkit-font-smoothing: antialiased;
}

/* HEADER (fluxo) + integração com HERO */
.header{
  width:var(--paper-w); margin:20mm auto -20mm auto;
  background:linear-gradient(180deg,#ffffff 0%,#f8fafc 100%);
  border:1px solid #00000012; border-radius:12px 12px 0 0;
  box-shadow:0 10px 24px rgba(0,0,0,0.05);
  padding:10mm 12mm; position:relative; z-index:2;
}
.header .title{ display:flex; gap:8mm; align-items:center; font-weight:700 }
.header .badge{
  padding:2mm 4mm; border-radius:6mm;
  background:linear-gradient(135deg, var(--brandA), var(--brandB));
  color:#fff; letter-spacing:.03em;
}

/* HERO */
.hero{
  margin-top:0; padding:32mm 28mm 20mm 28mm;
  background:
    radial-gradient(1000px 400px at 50% -10%, #c7d2fe40, transparent 60%),
    linear-gradient(180deg, #ffffff 0%, #f9fafb 100%);
  border-top:1px solid rgba(0,0,0,0.05);
  border-radius:0 0 12px 12px;
  box-shadow:0 8px 30px rgba(15,23,42,0.08);
}
.hero h1{
  font-size:var(--fs-hero); margin:0 0 8mm 0; line-height:1.05; letter-spacing:-.02em;
  background:linear-gradient(90deg,#7c3aed 0%,#06b6d4 40%,#22c55e 80%);
  -webkit-background-clip:text; background-clip:text; color:transparent;
}
.hero p{ color:var(--muted); margin:0 0 12mm 0 }

/* KPI CARDS — com proteção contra overflow do <strong> */
.kpi{ display:grid; grid-template-columns:repeat(4,minmax(0,1fr)); gap:6mm }
.kpi .card{
  display:flex; flex-direction:column; justify-content:space-between; align-items:center;
  min-height: 90px; text-align:center;
  padding:8mm; border-radius:14px;
  background:rgba(255,255,255,0.9);
  backdrop-filter: blur(6px);
  border:1px solid rgba(255,255,255,0.3);
  box-shadow:0 8px 24px rgba(0,0,0,0.06);
  word-wrap: break-word; overflow-wrap: break-word;
}
.kpi .card strong{
  display:block; margin-bottom:3mm; font-size:18pt; max-width:100%;
  text-align:center; word-break: break-word; overflow-wrap: anywhere;
}
.kpi .bar{ height:10mm; border-radius:999px; background:linear-gradient(90deg,#7c3aed,#06b6d4) }

/* PÁGINA/SEÇÕES NO FLUXO */
.page{
  width:var(--paper-w); margin:0 auto 12mm auto;
  background:#fff; border:1px solid #00000012; border-radius:12px;
  box-shadow:0 20px 60px rgba(2,6,23,.10);
}
.section{ padding:10mm 28mm; display:grid; gap:8mm }
.section h2{ font-size:var(--fs-h2); margin:0 }
.section p{ font-size:var(--fs-base); margin:0; color:#334155 }

/* GRID/FLEX */
.grid{ display:grid; grid-template-columns:repeat(12,1fr); gap:var(--gap) }
.tile{
  grid-column: span 4; padding:6mm; border-radius:14px;
  background:linear-gradient(180deg,#fff,#f8fafc);
  border:1px solid #00000010;
  box-shadow:0 2px 0 #fff inset, 0 18px 36px rgba(2,6,23,.08);
}
.tile .bar{ height:10mm; border-radius:999px; background:linear-gradient(90deg,#22c55e,#06b6d4); margin-bottom:4mm }

/* LISTA COM COUNTERS */
.counter-demo{ counter-reset:steps 0; display:grid; gap:4mm }
.counter-demo div{
  counter-increment:steps 1; padding:4mm 6mm; border-radius:10px;
  background:linear-gradient(180deg,#fff,#f1f5f9);
  border:1px solid #00000012; position:relative;
}
.counter-demo div::before{
  content: counter(steps, decimal-leading-zero);
  position:absolute; left:-10mm; top:50%; transform:translateY(-50%);
  font-variant-numeric: tabular-nums; font-weight:700;
  background:linear-gradient(135deg,#7c3aed,#06b6d4); color:#fff;
  padding:2mm 3.2mm; border-radius:8px; box-shadow:0 8px 16px rgba(2,6,23,.2);
}

/* TABELA */
.table-wrap{ break-inside:avoid; background:#fff; border:1px solid #00000015; border-radius:12px; overflow:hidden; box-shadow:0 12px 30px rgba(2,6,23,.08) }
table{ width:100%; border-collapse:collapse; font-size:10pt }
thead{ background:linear-gradient(180deg,#f8fafc,#eef2ff) }
thead th, tfoot td{ padding:4mm 6mm; text-align:left; color:#0f172a; border-bottom:1px solid #00000015 }
tbody td{ padding:3.2mm 6mm; border-bottom:1px solid #0000000a }
tbody tr:nth-child(odd){ background:#fafafa }
tfoot td{ border-top:1px solid #00000015; font-weight:700 }

/* EFEITOS */
.fx-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:var(--gap) }
.fx{
  padding:6mm; border-radius:18px;
  background:radial-gradient(600px 200px at 20% -10%, #a78bfa44, transparent 60%), #ffffff;
  border:1px solid #00000012; overflow:hidden;
  box-shadow:0 8px 20px rgba(0,0,0,0.05);
}
.fx .blob{
  width:90px; height:90px;
  background: radial-gradient(circle at 30% 30%, #22d3ee, #7c3aed);
  border-radius:30% 70% 60% 40% / 30% 30% 70% 70%;
  filter: drop-shadow(0 20px 40px rgba(2,6,23,.25));
  transform: rotate(15deg);
  clip-path: path("M0,40 C20,0 70,0 90,40 C70,90 20,90 0,40 Z");
}
.img-mask{ display:flex; gap:8mm; align-items:center }
.badge-img{
  width:64px; height:64px;
  --mask: radial-gradient(circle at 70% 30%, white 50%, transparent 51%),
           radial-gradient(circle at 30% 70%, white 50%, transparent 51%);
  -webkit-mask: var(--mask); mask: var(--mask);
  border:2px solid #00000022; border-radius:12px;
  background:linear-gradient(135deg,#fda4af,#f0abfc,#93c5fd);
}
.cliptext{
  font-size:28pt; font-weight:900; letter-spacing:.02em; margin:0;
  background:linear-gradient(90deg,#0ea5e9,#22c55e,#f59e0b,#ef4444);
  -webkit-background-clip:text; background-clip:text; color:transparent;
}

/* CARDS DE QUEBRA — versão “não vazia” */
.pagebreaker{ display:grid; grid-template-columns:repeat(2,1fr); gap:6mm }
.box{
  min-height:55mm; padding:6mm; border-radius:14px;
  background:
    radial-gradient(400px 200px at 30% 20%, #e0e7ff66, transparent 70%),
    linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);
  border:1px solid rgba(0,0,0,0.06);
  box-shadow:
    0 2px 3px rgba(0,0,0,0.04),
    0 8px 16px rgba(0,0,0,0.06);
  break-inside: avoid;
  transition: transform .15s ease, box-shadow .15s ease;
}
.box:hover{
  transform: translateY(-1mm);
  box-shadow:
    0 4px 8px rgba(0,0,0,0.08),
    0 10px 24px rgba(0,0,0,0.10);
}

/* FOOTER (fluxo) */
.footer{
  width:var(--paper-w); margin:0 auto 20mm auto;
  background:linear-gradient(180deg,#f8fafc,#ffffff);
  border:1px solid #00000012; border-radius:0 0 12px 12px;
  box-shadow:0 10px 24px rgba(0,0,0,0.05);
  padding:10mm 12mm;
}
.footer .muted{ color:var(--muted); font-size:10pt }

/* IMPRESSÃO */
@page{ size:A4; margin:16mm 14mm 16mm 14mm }
@media print{
  body{ background:white !important }
  .page{ margin:0 auto; border-radius:0; box-shadow:none; border:1px solid #00000010 }
  thead{ display: table-header-group }
  tfoot{ display: table-footer-group }
}
.mono{font-family:var(--mono)}
.right{text-align:right}
</style>
</head>
<body>

<header class="header">
  <div class="title">
    <div class="badge">HTML→PDF Stress</div>
    <div>Fluxo puro • sem JS • sem fixed/sticky</div>
  </div>
  <p class="muted">Documento para testar conversão PDF com layout 100% no fluxo e visual refinado.</p>
</header>

<section class="hero">
  <h1>Conversão HTML → PDF (sem JS)</h1>
  <p>Gradientes, Grid/Flex, Tabelas, Efeitos, SVG, Quebras e Formulário — tudo no fluxo.</p>
  <div class="kpi">
    <div class="card"><span>Layout</span><strong>Grid • Flex</strong><div class="bar"></div></div>
    <div class="card"><span>Páginas</span><strong>A4</strong><div class="bar" style="background:linear-gradient(90deg,#22c55e,#16a34a)"></div></div>
    <div class="card"><span>Efeitos</span><strong>Clip • Filtros</strong><div class="bar" style="background:linear-gradient(90deg,#f59e0b,#ef4444)"></div></div>
    <div class="card"><span>SVG</span><strong>Gradiente + Sombra</strong><div class="bar" style="background:linear-gradient(90deg,#06b6d4,#7c3aed)"></div></div>
  </div>
</section>

<main class="page">
  <section class="section">
    <h2>Grid, Flex e <code class="mono">clamp()/calc()</code></h2>
    <div class="grid">
      <div class="tile"><strong>Tile 1</strong><div class="bar"></div><p>Texto dimensionado com <code class="mono">clamp()</code>.</p></div>
      <div class="tile"><strong>Tile 2</strong><div class="bar" style="background:linear-gradient(90deg,#ef4444,#f59e0b)"></div><p>Sombras e bordas suaves.</p></div>
      <div class="tile"><strong>Tile 3</strong><div class="bar" style="background:linear-gradient(90deg,#22c55e,#06b6d4)"></div><p>Gradientes via variáveis CSS.</p></div>
    </div>
  </section>

  <section class="section">
    <h2>Listas, Pseudo-elementos e Contadores</h2>
    <div class="counter-demo">
      <div>Índice via <code class="mono">counter()</code>.</div>
      <div>Quebra estável com <code class="mono">break-inside: avoid</code>.</div>
      <div>Fundo em gradiente vertical.</div>
    </div>
  </section>

  <section class="section">
    <h2>Tabela com Cabeçalho/Rodapé Repetidos</h2>
    <div class="table-wrap">
      <table>
        <thead><tr><th>#</th><th>Descrição</th><th>Valor</th><th>Status</th></tr></thead>
        <tbody>
          <tr><td>1</td><td>Entrada longa para testar quebra de linha.</td><td>R$ 120,00</td><td><b style="color:var(--ok)">OK</b></td></tr>
          <tr><td>2</td><td>Texto curto.</td><td>R$ 80,00</td><td><b style="color:var(--warn)">PENDENTE</b></td></tr>
          <tr><td>3</td><td>Valores tabulares.</td><td>R$ 50,00</td><td><b style="color:var(--err)">ERRO</b></td></tr>
        </tbody>
        <tfoot><tr><td colspan="3">Total (não calculado)</td><td class="right">—</td></tr></tfoot>
      </table>
    </div>
  </section>

  <section class="section">
    <h2>Efeitos</h2>
    <div class="fx-grid">
      <div class="fx"><h3>Glow & Clip</h3><div class="blob" aria-hidden="true"></div></div>
      <div class="fx"><h3>Mask</h3><div class="img-mask"><div class="badge-img" aria-hidden="true"></div><p class="muted">Máscara via <em>radial-gradient</em>.</p></div></div>
      <div class="fx"><h3>Texto com Gradiente</h3><p class="cliptext">Gradient Text</p></div>
    </div>
  </section>

  <section class="section">
    <h2>SVG Inline com Gradiente e Sombra</h2>
    <svg width="100%" height="120" viewBox="0 0 800 120" role="img" aria-label="Banner com gradiente">
      <defs>
        <linearGradient id="g1" x1="0" x2="1" y1="0" y2="0">
          <stop offset="0%" stop-color="#7c3aed"/>
          <stop offset="50%" stop-color="#06b6d4"/>
          <stop offset="100%" stop-color="#22c55e"/>
        </linearGradient>
        <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
          <feDropShadow dx="0" dy="8" stdDeviation="6" flood-color="#000" flood-opacity=".25"/>
        </filter>
      </defs>
      <rect x="10" y="20" width="780" height="80" rx="16" fill="url(#g1)" filter="url(#shadow)" />
      <text x="400" y="75" text-anchor="middle" fill="#fff" font-family="system-ui, Arial" font-weight="800" font-size="36">SVG + Gradiente + Sombra</text>
    </svg>
  </section>

  <section class="section">
    <h2>Quebra de Página com Cards</h2>
    <div class="pagebreaker">
      <div class="box">Caixa 1 — evita divisão.</div>
      <div class="box">Caixa 2 — sombras e gradiente.</div>
      <div class="box">Caixa 3 — overflow proposital.</div>
      <div class="box">Caixa 4 — mais conteúdo.</div>
    </div>
  </section>
</main>

<footer class="footer">
  <div><strong>Rodapé</strong> — em fluxo (sem contador de página, sem JS).</div>
  <p class="muted">Compatível com motores que suportam CSS3 e PDF A4.</p>
</footer>

</body>
</html>
